<!-- public/memorial.html -->
<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Σελίδα Μνήμης – ekimithin.gr</title>
  <link rel="icon" href="/favicon.ico" type="image/x-icon" />

  <!-- Open Graph / Twitter -->
  <meta property="og:title"       content="Ψηφιακή Μνήμη – ekimithin.gr" />
  <meta property="og:description" content="Ανακαλύψτε την ψηφιακή σελίδα μνήμης." />
  <meta property="og:image"       content="https://ekimithin.vercel.app/ekimithin.png" />
  <meta property="og:url"         content="https://ekimithin.vercel.app/memorial.html" />
  <meta name="twitter:card"       content="summary_large_image" />

  <!-- Leaflet CSS & JS -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- Global styles -->
  <link rel="stylesheet" href="css/style.css" />

  <style>
    body { margin:0; font-family:Arial,sans-serif; background:#f5f7fa; color:#333 }
    main { max-width:800px; margin:2rem auto; padding:0 1rem }
    #fullName { font-size:2rem; margin-bottom:.5rem }
    #location { font-style:italic; margin-bottom:1rem }
    #photo { max-width:100%; border-radius:8px; margin-bottom:1rem }
    #message { margin:1rem 0 }
    #videoContainer iframe { width:100%; height:315px; margin:1rem 0 }
    #dates p { margin:.25rem 0 }
    #candleText { font-weight:bold; margin:1rem 0 }
    button { cursor:pointer; border:none; border-radius:4px; padding:.5rem 1rem }
    #lightCandleBtn { background:#f39c12; color:#fff; margin-right:1rem }
    #toggleBioBtn { background:#3498db; color:#fff }
    section { margin:1rem 0 }
    section h3 { margin-bottom:.5rem }
    #bioSection, #awardsSection, #interestsSection, #burialSection {
      display:none;
      background:#fff;
      padding:1rem;
      border-radius:8px;
      box-shadow:0 2px 5px rgba(0,0,0,0.1);
    }
    #relationshipsTable {
      width:100%; border-collapse:collapse; margin-top:1rem;
      background:#fff;
      box-shadow:0 2px 5px rgba(0,0,0,0.05);
    }
    #relationshipsTable th, #relationshipsTable td {
      border:1px solid #ddd; padding:.5rem;
    }
    #relationshipsTable .centered-header {
      background:#f5f7fa; text-align:center; font-weight:bold;
    }
    #mapContainer {
      display:none; position:fixed; top:0; left:0; width:100%; height:100%;
      background:rgba(0,0,0,0.6); justify-content:center; align-items:center;
      z-index:1000;
    }
    #mapContainer.open { display:flex }
    #map { width:80%; height:80%; border-radius:8px }
    #closeMapBtn {
      position:absolute; top:1rem; right:1rem;
      background:#e74c3c; color:#fff; font-size:1.2rem;
      width:2rem; height:2rem; border-radius:50%;
    }
  </style>
</head>
<body>
  <main>
    <div id="fullName"></div>
    <div id="location"></div>
    <img id="photo" alt="Φωτογραφία" />

    <div id="message"></div>
    <div id="videoContainer"></div>

    <div id="dates"></div>
    <div id="candleText"></div>
    <button id="lightCandleBtn">🕯️ Άναψε Κερί</button>
    <button id="toggleBioBtn">📖 Βιογραφικό</button>

    <section id="bioSection">
      <h3>Βασικά Βιογραφικά</h3>
      <p id="birthPlaceLine"><strong>Τόπος Γέννησης:</strong> <span id="birthPlace"></span></p>
      <p id="professionLine"><strong>Επάγγελμα:</strong> <span id="profession"></span></p>
      <p id="educationLine"><strong>Εκπαίδευση:</strong> <span id="education"></span></p>
    </section>

    <section id="awardsSection">
      <h3>Διακρίσεις</h3>
      <p id="awards"></p>
    </section>

    <section id="interestsSection">
      <h3>Ενδιαφέροντα &amp; Χόμπι</h3>
      <p id="interests"></p>
    </section>

    <section id="burialSection">
      <h3>Τοποθεσία Ταφής</h3>
      <p id="cemetery"></p>
    </section>

    <h3>Γενεαλογικές Σχέσεις</h3>
    <table id="relationshipsTable">
      <thead>
        <tr><th colspan="2" class="centered-header">Σχέσεις</th></tr>
        <tr><th>Συγγενής</th><th>Σχέση</th></tr>
      </thead>
      <tbody>
        <tr id="noRelationshipsRow">
          <td colspan="2" style="text-align:center">Δεν υπάρχουν καταχωρημένες σχέσεις.</td>
        </tr>
      </tbody>
    </table>

    <button id="openMapBtn">📍 Δες τοποθεσία</button>
  </main>

  <div id="mapContainer">
    <button id="closeMapBtn">✖️</button>
    <div id="map"></div>
  </div>

  <!-- JS -->
  <script type="module" src="js/supabase.js"></script>
  <script type="module" src="js/view.js"></script>
</body>
</html>
